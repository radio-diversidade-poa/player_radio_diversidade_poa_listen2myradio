<!DOCTYPE html>
<html lang="es">

<head>
    <base href="https://dgonmej.github.io/minimafm/">

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Diversidade Poa, a nossa web rádio.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Diego González">
    <meta name="keywords" content="profile">

    <title>Diversidade Poa | A nossa web rádio</title>

    <link rel="apple-touch-icon" href="https://raw.github.com/radio-diversidade-poa/player_radio_diversidade_poa_listen2myradio/main/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://raw.github.com/radio-diversidade-poa/player_radio_diversidade_poa_listen2myradio/main/images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://raw.github.com/radio-diversidade-poa/player_radio_diversidade_poa_listen2myradio/main/images/web-app-manifest-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="https://raw.github.com/radio-diversidade-poa/player_radio_diversidade_poa_listen2myradio/main/images/web-app-manifest-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat|Montserrat+Alternates&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">

    <style>
        /* ==============================
           VARIÁVEIS DE CORES GLOBAIS
           ============================== */
        :root {
            --main-bg-color: #7427a9;
            --box-bg-color: #26163b;
            --footer-bg-color: #7427a9;
            --main-text-color: #ffffff;
            --title-text-color: #ffffff;
            --footer-text-color: #ecf0f1;
            --link-hover-color: #7f8c8d;
            --accent-color: #4a90e2;
            --line-color: #26163b;
            --footer-text-accent-color: #4a90e2;
            --player-background: #ffffff;
            --player-text-color: #26163b;
            --player-border-color: #d4d4d4;
            --player-control-color: #d4d4d4;
        }

        body {
            background-color: var(--main-bg-color);
            color: var(--main-text-color);
            margin: 0;
            padding: 0;
        }

        .box-theme {
            background-color: var(--box-bg-color);
        }

        .border-blue-500 {
            border-color: var(--line-color);
        }

        .bg-blue-700 {
            background-color: var(--accent-color);
        }

        .text-gray-600 {
            color: var(--main-text-color);
        }

        .bg-gray-900 {
            background-color: var(--footer-bg-color);
        }
        
        .border-blue-600 {
            border-color: var(--accent-color);
        }

        .text-gray-100 {
            color: var(--footer-text-color);
        }

        .text-blue-600 {
            color: var(--footer-text-accent-color);
        }
        
        .text-diversity {
            color: var(--title-text-color);
        }
        
        .hover\:text-blue-400:hover {
            color: var(--link-hover-color);
        }

        /* ==============================
           PLAYER CUSTOMIZADO FIXO
           ============================== */
        .player-custom {
            background-color: var(--player-background);
            color: var(--player-text-color);
            border: 2px solid var(--player-border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .player-custom span {
            width: 100%;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        
        .player-custom audio {
            width: 100%;
        }

        .player-custom audio::-webkit-media-controls-panel {
            background-color: var(--player-background);
        }

        .player-custom audio::-webkit-media-controls-play-button,
        .player-custom audio::-webkit-media-controls-mute-button,
        .player-custom audio::-webkit-media-controls-volume-slider {
            background-color: var(--player-control-color);
            border-radius: 0.25rem;
        }

        /* ESTILO PARA A LOGO REDONDA */
        .player-logo {
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border-radius: 50%;
            width: 128px;
            height: 128px;
            margin-bottom: 1rem;
            margin-top: 1rem;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>

<body class="font-sans antialiased leading-normal tracking-wider text-gray-900">

    <section id="section-main" class="bg-cover bg-center pb-1 lg:pb-0 transition duration-500 ease-in-out" style="background-image: url('images/fundo_roxo.jpg');">
        <div class="flex items-center flex-wrap w-full h-auto lg:h-screen mx-auto mb-20 lg:mb-0">
            
            <div class="box-theme w-full rounded lg:rounded-r-none shadow-lg bg-white mx-4 lg:mx-0">
                <div class="p-6 text-center">

                    <div class="player-logo" style="background-image: url('https://raw.github.com/radio-diversidade-poa/player_radio_diversidade_poa_listen2myradio/main/images/logo/logo_radio_250.png');"></div>

                    <div class="flex flex-wrap justify-center items-center rounded-lg mt-4 py-4 player-custom">
                        <span>Clique e ouça maior diversidade de ritmos</span>
                        <audio id="radioPlayer" autoplay controls src="https://fpsnew1.listen2myradio.com:2199/listen.php?ip=82.145.63.6&port=4294&type=ice&mount=stream"></audio>
                    </div>

                </div>
            </div>

            </div>
    </section>

    <script src="https://unpkg.com/popper.js@1/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@4"></script>
    <script src="js/tooltip.js"></script>

    <script>
        const radioPlayer = document.getElementById('radioPlayer');

        radioPlayer.addEventListener('ended', () => {
            console.log("A reprodução da rádio parou. Tentando reiniciar...");
            setTimeout(() => {
                radioPlayer.load();
                radioPlayer.play().catch(e => {
                    console.error("Erro ao tentar reiniciar a reprodução:", e);
                });
            }, 5000);
        });
        
        radioPlayer.addEventListener('pause', () => {
            if (!radioPlayer.paused && radioPlayer.duration === Infinity) {
                console.log("A reprodução foi pausada sem motivo aparente. Tentando reiniciar...");
                setTimeout(() => {
                    radioPlayer.load();
                    radioPlayer.play().catch(e => {
                        console.error("Erro ao tentar reiniciar a reprodução:", e);
                    });
                }, 5000);
            }
        });
    </script>
</body>


</html>
